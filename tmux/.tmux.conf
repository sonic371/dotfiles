# Enable mouse (scroll, click, resize panes)
set -g mouse on

# Start window numbering at 1 (not 0)
set -g base-index 1
set -g pane-base-index 1

# Increase scrollback buffer (default 2000)
set -g history-limit 50000

# Faster escape sequence (for Vim/Neovim)
set -sg escape-time 10

# Enable true color support (better colors)
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Automatically renumber windows when one closes
set -g renumber-windows on

# Focus events for better Vim integration
set -g focus-events on

# Change prefix
# set -g prefix C-Space
# unbind C-b
# bind C-Space send-prefix

# Vim-like pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use Alt-arrow to resize panes
bind -n M-Left resize-pane -L 5
bind -n M-Right resize-pane -R 5
bind -n M-Up resize-pane -U 5
bind -n M-Down resize-pane -D 5

# Split panes with current directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Status bar customization
set -g status-interval 1
set -g status-justify centre
set -g status-left-length 200
set -g status-right-length 200

# Colors and style
set -g status-style "bg=#1c1c1c,fg=#cccccc"
set -g status-left "#[bg=#268bd2,fg=black] #S #[bg=#1c1c1c,fg=#268bd2]"
set -g status-right "#[fg=#d33682,bg=#1c1c1c]#[bg=#d33682,fg=black] %H:%M:%S #[fg=#2aa198,bg=#d33682]#[bg=#2aa198,fg=black] %d %b %Y "

# Window status
set -g window-status-format "#[fg=#586e75]#I:#W"
set -g window-status-current-format "#[fg=white,bg=#268bd2] #I:#W #[fg=#268bd2,bg=#1c1c1c]"

# Pane border
set -g pane-border-style "fg=#586e75"
set -g pane-active-border-style "fg=#268bd2"

# Quick reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Easy session switching
bind S choose-tree -s

# Kill pane/window without confirmation
bind x kill-pane
bind X kill-window

# Copy to system clipboard (requires OS-specific setup)
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection
bind -T copy-mode-vi C-v send -X rectangle-toggle

# Save tmux session (requires tmux-resurrect plugin)
# bind C-s run-shell '~/.tmux/plugins/tmux-resurrect/scripts/save.sh'

# Switch windows with Alt+number
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9

# Create new window with prompt for name
bind N command-prompt -p "New window name:" "new-window -n '%%'"

# Move windows left/right
bind -r "<" swap-window -t -1
bind -r ">" swap-window -t +1
